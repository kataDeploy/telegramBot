(this["webpackJsonptelegram-bot-ui"]=this["webpackJsonptelegram-bot-ui"]||[]).push([[0],{138:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(35),c=n.n(r),i=(n(138),n(139),n(23)),l=n(237),o=n(239),s=n(238),u=n(68),d=n(42),h=n(43),j=n.n(h),p=(n(158),n(51));function b(e,t,n,a){for(var r,c=function(){for(var n=function(){var n,a,r=[];for(n=0,a=e.length;n<a;n+=t)r.push(e.slice(n,n+t));return r}(),a=[],r=0;r<n.length;r++){var c=(i=n[r],Math.min.apply(Math,Object(p.a)(i)));a.push(c)}var i;return a}(),i=null,l=null,o=[];c.length>0;){i=Math.min.apply(Math,Object(p.a)(c)),l=u();var s=(r=l).reduce((function(e,t){return e+t}))/r.length;l.length>a&&o.push({mean:s,strength:l.length}),c=c.filter((function(e){return!l.includes(e)}))}return o;function u(){var e=[];return c.forEach((function(t){d(t,i)<n&&d(t,i)>-n&&e.push(t)})),e}function d(e,t){return 100*parseFloat((e-t)/e)}}function O(e,t,n,a){for(var r,c=function(){for(var n=function(){var n,a,r=[];for(n=0,a=e.length;n<a;n+=t)r.push(e.slice(n,n+t));return r}(),a=[],r=0;r<n.length;r++){var c=(i=n[r],Math.max.apply(Math,Object(p.a)(i)));a.push(c)}var i;return a}(),i=null,l=null,o=[];c.length>0;){i=Math.max.apply(Math,Object(p.a)(c)),l=u();var s=(r=l).reduce((function(e,t){return e+t}))/r.length;l.length>a&&o.push({mean:s,strength:l.length}),c=c.filter((function(e){return!l.includes(e)}))}return o;function u(){var e=[];return c.forEach((function(t){d(t,i)<n&&d(t,i)>-n&&e.push(t)})),e}function d(e,t){return 100*parseFloat((e-t)/e)}}var f=n(240),g=(n(159),n(9)),v=function(){var e=Object(a.useState)("BTCUSDT"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("1d"),l=Object(i.a)(c,2),o=l[0],u=l[1],h=Object(a.useState)(100),v=Object(i.a)(h,2),x=v[0],m=v[1],y=Object(a.useState)(['study(title="SRLine", shorttitle="SRLine", overlay=true)']),S=Object(i.a)(y,2),C=S[0],k=S[1],E=Object(a.useState)(5),I=Object(i.a)(E,2),T=I[0],R=I[1],M=Object(a.useState)(1),N=Object(i.a)(M,2),w=N[0],B=N[1],F=Object(a.useState)(10),L=Object(i.a)(F,2),P=L[0],A=L[1],D={"1M":"orange","1w":"green","1d":"blue","4h":"yellow","1h":"red"},U=function(e,t){return 100*parseFloat((e-t)/e)},G=function(e,t){return e.concat(t)},J=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=n;a<e.length;a++)Math.abs(U(e[n].mean,e[a].mean))<.3&&0!==U(e[n].mean,e[a].mean)&&!t.includes(a)&&!t.includes(n)&&(e[n].strength>e[a].strength?t.push(a):t.push(n));return e.filter((function(e,n){return!t.includes(n)}))},q=function(e){k((function(t){return[].concat(Object(p.a)(t),[e])}))};return Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:function(){var e="https://api.binance.com/api/v3/klines?symbol="+n+"&interval="+o+"&limit="+x;j.a.get(e).then((function(e){for(var t=[],n=[],a=[],r=[],c=0;c<e.data.length;c++){var i={date:new Date(e.data[c][0]).toString(),open:parseFloat(e.data[c][1]),high:parseFloat(e.data[c][2]),low:parseFloat(e.data[c][3]),close:parseFloat(e.data[c][4])};t.push(i),n.push(i.low),a.push(i.high),r.push(i.close)}var l=b(n,P,T,w),s=O(a,P,T,w);l.push({mean:Math.min.apply(Math,n),strength:99}),s.push({mean:Math.max.apply(Math,a),strength:99});var u=J(l),d=J(s);J(G(u,d)).forEach((function(e){q("hline(".concat(e.mean,', title="none", color=color.').concat(D[o],", linestyle=hline.style_solid)"))}))}))},children:"CREATE PINE OUTPUT"}),Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:function(){k(['study(title="SRLine", shorttitle="SRLine", overlay=true)'])},children:"CLEAR"})]}),Object(g.jsxs)("div",{className:"selectionBox",children:[Object(g.jsx)(s.a,{placeholder:"Parity",onChange:function(e){return r(e.target.value.toUpperCase())},style:{"text-transform":"uppercase"}}),Object(g.jsx)(s.a,{placeholder:"Tick interval (1m,1w,1d,etc.)",onChange:function(e){return u(e.target.value)}}),Object(g.jsx)(s.a,{placeholder:"Tick Count",onChange:function(e){return m(e.target.value)}}),Object(g.jsx)(s.a,{placeholder:"SR gap percentage",onChange:function(e){return R(parseFloat(e.target.value))}}),Object(g.jsx)(s.a,{placeholder:"SR strength level",onChange:function(e){return B(parseInt(e.target.value))}}),Object(g.jsx)(s.a,{placeholder:"SR candle sequence",onChange:function(e){return A(parseInt(e.target.value))}})]})]}),Object(g.jsx)(f.b,{size:"small",header:Object(g.jsx)("div",{children:"//@version=4"}),footer:Object(g.jsx)("div",{children:"plot(close)"}),bordered:!0,dataSource:C,renderItem:function(e){return Object(g.jsx)(f.b.Item,{children:e})}})]})},x=-1;var m=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),h=Object(i.a)(c,2),p=h[0],b=h[1],O=Object(a.useState)("usd"),f=Object(i.a)(O,2),m=f[0],y=f[1],S=Object(a.useState)("GREATER"),C=Object(i.a)(S,2),k=C[0],E=C[1],I=Object(a.useState)(""),T=Object(i.a)(I,2),R=T[0],M=T[1],N=Object(a.useState)(-1),w=Object(i.a)(N,2),B=w[0],F=w[1],L=Object(a.useState)(""),P=Object(i.a)(L,2),A=P[0],D=P[1],U=Object(a.useState)("4h"),G=Object(i.a)(U,2),J=G[0],q=G[1],z=Object(a.useState)(!0),V=Object(i.a)(z,2),Y=V[0],_=V[1],H=function(){console.log("sync started...");j.a.get(A+"sync").then((function(e){r(e.data),_(!1)}))},K=u.a.Option,Q=Object(g.jsxs)(u.a,{defaultValue:"GREATER",style:{width:120},onChange:E,children:[Object(g.jsx)(K,{value:"GREATER",children:"GREATER"}),Object(g.jsx)(K,{value:"LESS",children:"LESS"})]}),W=[{title:"Parity",dataIndex:"parity",key:"parity"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Price",dataIndex:"price",key:"price"},{title:"Date",dataIndex:"date",key:"date"},{title:"Condition",dataIndex:"conditionDone",key:"conditionDone",render:function(e,t){var n="red";return t.conditionDone&&(n=t.candleCloseCondition?"green":"yellow"),Object(g.jsx)("div",{style:{width:"10px",height:"10px",backgroundColor:n}})}},{dataIndex:"remove",key:"remove",render:function(e,t){return Object(g.jsxs)(d.a,{type:"primary",danger:!0,onClick:function(){return e=t.key,console.log(e),void j.a.post(A+"remove",{key:e}).then((function(e){r(e.data)}));var e},children:[" ","DELETE"]})}}];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:H,children:"SYNC"}),Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:function(){clearInterval(x),j.a.get(A+"startBot").then((function(e){console.log(e.data)})),x=setInterval((function(){H()}),3e5)},disabled:Y,children:"Start Track"}),Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:function(){clearInterval(x);j.a.get(A+"stop").then((function(e){console.log(e.data)}))},children:"Stop Track"})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{width:"300px",margin:"10px 10px"},children:[Object(g.jsx)(s.a,{placeholder:"telegram api",onChange:function(e){return M(e.target.value)}}),Object(g.jsx)(s.a,{placeholder:"chatId",onChange:function(e){return F(e.target.value)}}),Object(g.jsx)(s.a,{placeholder:"backend IP",onChange:function(e){return D(e.target.value)}}),Object(g.jsx)(s.a,{placeholder:"backend time interval",onChange:function(e){return q(e.target.value)}})]}),Object(g.jsx)(d.a,{className:"setupButtons",type:"primary",onClick:function(){j.a.post(A+"setTelegram",{telegramApi:R,chatId:B,backendTimeInterval:J}).then((function(e){console.log("telegramSet")}))},children:"Set Telegram"})]})]}),Object(g.jsx)(v,{})]}),Object(g.jsxs)("div",{className:"additionBox",children:[Object(g.jsxs)("div",{className:"additionMenu",children:[Object(g.jsx)("h3",{children:"Parity"}),Object(g.jsx)("h3",{children:"Operation"}),Object(g.jsx)("h3",{children:"Price"}),Object(g.jsx)("h3",{})]}),Object(g.jsxs)("div",{className:"additionMenu",children:[Object(g.jsx)("div",{children:Object(g.jsx)(s.a,{placeholder:"parity",onChange:function(e){return y(e.target.value.toUpperCase())},style:{"text-transform":"uppercase"}})}),Object(g.jsx)("div",{children:Q}),Object(g.jsx)("div",{children:Object(g.jsx)(o.a,{onChange:b})}),Object(g.jsx)("div",{children:Object(g.jsx)(d.a,{type:"primary",onClick:function(){var e={parity:m,operation:k,price:p};j.a.post(A+"add",e).then((function(e){r(e.data)}))},children:"+"})})]})]}),Object(g.jsx)("div",{className:"trackTable",children:Object(g.jsx)(l.a,{columns:W,dataSource:n})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};c.a.render(Object(g.jsx)(m,{}),document.getElementById("root")),y()}},[[235,1,2]]]);
//# sourceMappingURL=main.230b84b9.chunk.js.map